Started POST "/messages" for 127.0.0.1 at 2023-03-08 08:42:46 +0700
Processing by MessagesController#create as */*
  Parameters: {"chat"=>"apaan tuh", "user_id"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007ffa034d0f08 @tempfile=#<Tempfile:/tmp/RackMultipart20230308-34229-oxf4mm.png>, @original_filename="Screenshot from 2023-03-06 22-44-40.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"Screenshot from 2023-03-06 22-44-40.png\"\r\nContent-Type: image/png\r\n">}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2405)


  
NoMethodError (undefined method `errors' for nil:NilClass

            render json: @user.errors, status: :unprocessable_entity
                              ^^^^^^^):
  
app/controllers/messages_controller.rb:14:in `create'
Started POST "/messages" for 127.0.0.1 at 2023-03-08 08:43:42 +0700
Processing by MessagesController#create as */*
  Parameters: {"chat"=>"apaan tuh", "user_id"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007ffa034a3c38 @tempfile=#<Tempfile:/tmp/RackMultipart20230308-34229-v05wc0.png>, @original_filename="Screenshot from 2023-03-06 22-44-40.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"Screenshot from 2023-03-06 22-44-40.png\"\r\nContent-Type: image/png\r\n">}
Completed 422 Unprocessable Entity in 49ms (Views: 16.6ms | ActiveRecord: 4.8ms | Allocations: 8956)


Started POST "/messages" for 127.0.0.1 at 2023-03-08 08:43:59 +0700
Processing by MessagesController#create as */*
  Parameters: {"chat"=>"apaan tuh", "user_id"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007ffa2119a050 @tempfile=#<Tempfile:/tmp/RackMultipart20230308-34229-j7imvz.png>, @original_filename="Screenshot from 2023-02-28 16-22-43.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"Screenshot from 2023-02-28 16-22-43.png\"\r\nContent-Type: image/png\r\n">}
Completed 422 Unprocessable Entity in 4ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 1642)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddImageToMessages (20230308014049)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "messages" DROP COLUMN "image"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230308014049"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMessages (20230308003702)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230308003702"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230308003627)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230308003627"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230308003627)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "nama" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230308003627"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20230308003702)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat" character varying, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230308003702"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImageToMessages (20230308014049)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD "image" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230308014049"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users" for 127.0.0.1 at 2023-03-08 08:48:35 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as */*
  Parameters: {"nama"=>"tes"}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:14:in `create'
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("nama", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nama", "tes"], ["created_at", "2023-03-08 01:48:35.789545"], ["updated_at", "2023-03-08 01:48:35.789545"]]
  â†³ app/controllers/users_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:14:in `create'
Completed 201 Created in 111ms (Views: 1.1ms | ActiveRecord: 6.7ms | Allocations: 9480)


Started DELETE "/users/1" for 127.0.0.1 at 2023-03-08 08:49:43 +0700
Processing by UsersController#destroy as */*
  Parameters: {"nama"=>"tes", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:31:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:32:in `destroy'
  [1m[36mUser Destroy (1.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/users_controller.rb:32:in `destroy'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:32:in `destroy'
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 9.4ms | Allocations: 6435)


Started POST "/users/1" for 127.0.0.1 at 2023-03-08 08:49:54 +0700
  
ActionController::RoutingError (No route matches [POST] "/users/1"):
  
Started POST "/users" for 127.0.0.1 at 2023-03-08 08:50:00 +0700
Processing by UsersController#create as */*
  Parameters: {"nama"=>"isa"}
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:14:in `create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("nama", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nama", "isa"], ["created_at", "2023-03-08 01:50:00.767605"], ["updated_at", "2023-03-08 01:50:00.767605"]]
  â†³ app/controllers/users_controller.rb:14:in `create'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:14:in `create'
Completed 201 Created in 23ms (Views: 0.6ms | ActiveRecord: 9.7ms | Allocations: 2239)


Started GET "/users" for 127.0.0.1 at 2023-03-08 08:50:06 +0700
Processing by UsersController#index as */*
  Parameters: {"nama"=>"isa"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:5:in `index'
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.7ms | Allocations: 996)


Started POST "/users" for 127.0.0.1 at 2023-03-08 08:50:21 +0700
Processing by UsersController#create as */*
  Parameters: {"nama"=>"hasbi"}
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:14:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("nama", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nama", "hasbi"], ["created_at", "2023-03-08 01:50:21.910199"], ["updated_at", "2023-03-08 01:50:21.910199"]]
  â†³ app/controllers/users_controller.rb:14:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:14:in `create'
Completed 201 Created in 13ms (Views: 0.5ms | ActiveRecord: 4.4ms | Allocations: 2122)


Started POST "/messages" for 127.0.0.1 at 2023-03-08 08:50:46 +0700
  
SyntaxError (/home/isa/Documents/bljr ruby/rails/chat/app/controllers/messages_controller.rb:23: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/messages_controller.rb:23: syntax error, unexpected end-of-input, expecting `end'
app/controllers/messages_controller.rb:23: syntax error, unexpected end-of-input, expecting `end'
app/controllers/messages_controller.rb:23: syntax error, unexpected end-of-input, expecting `end'
Started POST "/messages" for 127.0.0.1 at 2023-03-08 08:51:19 +0700
Processing by MessagesController#create as */*
  Parameters: {"chat"=>"coba berhasil", "chat_id"=>"2", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007ff6b777fac8 @tempfile=#<Tempfile:/tmp/RackMultipart20230308-35062-w1azvp.png>, @original_filename="Screenshot from 2023-02-28 16-22-43.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"Screenshot from 2023-02-28 16-22-43.png\"\r\nContent-Type: image/png\r\n">}
[31mUnpermitted parameter: :chat_id. Context: { controller: MessagesController, action: create, request: #<ActionDispatch::Request:0x00007ff6b77c62e8>, params: {"chat"=>"coba berhasil", "chat_id"=>"2", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007ff6b777fac8 @tempfile=#<Tempfile:/tmp/RackMultipart20230308-35062-w1azvp.png>, @original_filename="Screenshot from 2023-02-28 16-22-43.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"Screenshot from 2023-02-28 16-22-43.png\"\r\nContent-Type: image/png\r\n">, "controller"=>"messages", "action"=>"create"} }[0m
Completed 422 Unprocessable Entity in 24ms (Views: 1.4ms | ActiveRecord: 3.7ms | Allocations: 9951)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddImageToMessages (20230308014049)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "messages" DROP COLUMN "image"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.9ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230308014049"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateMessages (20230308003702)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE "messages"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.9ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230308003702"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230308003627)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230308003627"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230308003627)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "nama" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230308003627"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20230308003702)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat" character varying, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230308003702"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddImageToMessages (20230308014049)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "messages" ADD "image" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230308014049"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(2422704237652384140)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users" for 127.0.0.1 at 2023-03-08 09:17:49 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as */*
  Parameters: {"nama"=>"hasbi"}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:14:in `create'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("nama", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nama", "hasbi"], ["created_at", "2023-03-08 02:17:49.724407"], ["updated_at", "2023-03-08 02:17:49.724407"]]
  â†³ app/controllers/users_controller.rb:14:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:14:in `create'
Completed 201 Created in 120ms (Views: 2.0ms | ActiveRecord: 9.5ms | Allocations: 9481)


Started POST "/users" for 127.0.0.1 at 2023-03-08 09:17:55 +0700
Processing by UsersController#create as */*
  Parameters: {"nama"=>"isa"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:14:in `create'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("nama", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nama", "isa"], ["created_at", "2023-03-08 02:17:55.334134"], ["updated_at", "2023-03-08 02:17:55.334134"]]
  â†³ app/controllers/users_controller.rb:14:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:14:in `create'
Completed 201 Created in 14ms (Views: 0.5ms | ActiveRecord: 2.0ms | Allocations: 2241)


Started POST "/messages" for 127.0.0.1 at 2023-03-08 09:19:48 +0700
Processing by MessagesController#create as */*
  Parameters: {"chat"=>"coba berhasil", "user_id"=>"1", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f3c0e4d2230 @tempfile=#<Tempfile:/tmp/RackMultipart20230308-37381-yjofaj.png>, @original_filename="Screenshot from 2023-02-28 16-22-43.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"Screenshot from 2023-02-28 16-22-43.png\"\r\nContent-Type: image/png\r\n">}
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from cache! at /home/isa/Documents/bljr ruby/rails/chat/app/uploaders/image_uploader.rb:47)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:10:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/messages_controller.rb:10:in `create'
  [1m[36mMessage Create (6.1ms)[0m  [1m[32mINSERT INTO "messages" ("chat", "user_id", "created_at", "updated_at", "image") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["chat", "coba berhasil"], ["user_id", 1], ["created_at", "2023-03-08 02:19:48.528973"], ["updated_at", "2023-03-08 02:19:48.528973"], ["image", "Screenshot_from_2023-02-28_16-22-43.png"]]
  â†³ app/controllers/messages_controller.rb:10:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:10:in `create'
Completed 201 Created in 103ms (Views: 1.1ms | ActiveRecord: 13.0ms | Allocations: 16407)


